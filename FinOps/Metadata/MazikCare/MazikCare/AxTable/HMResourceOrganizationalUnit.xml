<?xml version="1.0" encoding="utf-8"?>
<AxTable xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>HMResourceOrganizationalUnit</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class HMResourceOrganizationalUnit extends common
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>insert</Name>
				<Source><![CDATA[
    public void insert()
    {
        HMResourceMasterSpeciality  resourceSpeciality;
        HMResourceMaster            resourceMaster;
        HMOrganizationalUnit        ou;
    
        resourceMaster = HMResourceMaster::find(this.HMResourceMaster);
    
        ou = HMOrganizationalUnit::find(this.HMOrganizationalUnit);
    
        if (ou.HMSpecialtyCode && ou.IsSpeciality)
        {
            select resourceSpeciality
                where resourceSpeciality.HMResource == resourceMaster.RecId
                    && resourceSpeciality.HMSpecialtyCode == ou.HMSpecialtyCode;
    
            if (!resourceSpeciality)
            {
                warning("Doctor is not of the same specialty as the clinic.");
            }
        }
    
        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>recordExist</Name>
				<Source><![CDATA[
    public static boolean recordExist(RecId _ouRecId, RecId _resourceRecId)
    {
        HMResourceOrganizationalUnit resourceOU;
    
        select RecId from resourceOU
        where resourceOU.HMOrganizationalUnit == _ouRecId
        && resourceOU.HMResourceMaster == _resourceRecId;
    
        if(resourceOU.RecId != 0)
        {
            return true;
        }
        return false;
    }

]]></Source>
			</Method>
			<Method>
				<Name>findByResourceMaster</Name>
				<Source><![CDATA[
    /// <summary>
    ///Created by Zain
    /// </summary>
    public static HMResourceOrganizationalUnit findByResourceMaster(
        RecId               _resourceMasterRecId,
        boolean             _forUpdate = false,
        ConcurrencyModel    _concurrencyModel = ConcurrencyModel::Auto)
    {
        HMResourceOrganizationalUnit    hmResourceOrgUnit;

        //hmResourceOrgUnit.selectedForUpdate(_forUpdate);
        //if (_forUpdate && _concurrencyModel !=ConcurrencyModel ::Auto)
        //{
        //    hmResourceOrgUnit.concurrencyModel(_concurrencyModel);
        //}

        select firstonly * from hmResourceOrgUnit
            where hmResourceOrgUnit.HMResourceMaster == _resourceMasterRecId;

        return hmResourceOrgUnit;
    }

]]></Source>
			</Method>
			<Method>
				<Name>findByWorker</Name>
				<Source><![CDATA[
    /// <summary>
    ///Created by Zain
    /// </summary>
    public static HMResourceMaster findByWorker(
        RecId               _workerRecId,
        boolean             _forUpdate = false,
        ConcurrencyModel    _concurrencyModel = ConcurrencyModel::Auto)
    {
        HMResourceMaster   hmResourceMaster;
        HMResourceOrganizationalUnit    hmResourceOrgUnitLocal;

        hmResourceMaster.selectForUpdate(_forUpdate);
        if (_forUpdate && _concurrencyModel != ConcurrencyModel::Auto)
        {
            hmResourceMaster.concurrencyModel(_concurrencyModel);
        }

        select firstonly hmResourceMaster
            join hmResourceOrgUnitLocal
                where hmResourceOrgUnitLocal.HMResourceMaster == hmResourceMaster.RecId
            && hmResourceOrgUnitLocal.HcmWorker == _workerRecId;

        return hmResourceMaster;
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
	<DeveloperDocumentation>@MAZ10942</DeveloperDocumentation>
	<EntityRelationshipType>Relationship</EntityRelationshipType>
	<Label>@MAZ10943</Label>
	<TableGroup>Reference</TableGroup>
	<TitleField1>HMResourceMaster</TitleField1>
	<TitleField2>HMOrganizationalUnit</TitleField2>
	<CacheLookup>Found</CacheLookup>
	<CreatedBy>Yes</CreatedBy>
	<CreatedDateTime>Yes</CreatedDateTime>
	<ModifiedBy>Yes</ModifiedBy>
	<ModifiedDateTime>Yes</ModifiedDateTime>
	<DeleteActions />
	<FieldGroups>
		<AxTableFieldGroup>
			<Name>AutoReport</Name>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>HMOrganizationalUnit</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>HMResourceMaster</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoLookup</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoIdentification</Name>
			<AutoPopulate>Yes</AutoPopulate>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoSummary</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoBrowse</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>OverView</Name>
			<Label>@SYS35894</Label>
			<Fields>
				<AxTableFieldGroupField>
					<DataField>HMOrganizationalUnit</DataField>
				</AxTableFieldGroupField>
				<AxTableFieldGroupField>
					<DataField>HMResourceMaster</DataField>
				</AxTableFieldGroupField>
			</Fields>
		</AxTableFieldGroup>
	</FieldGroups>
	<Fields>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>HcmWorker</Name>
			<ExtendedDataType>RefRecId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>HMOrganizationalUnit</Name>
			<ExtendedDataType>RefRecId</ExtendedDataType>
		</AxTableField>
		<AxTableField xmlns=""
			i:type="AxTableFieldInt64">
			<Name>HMResourceMaster</Name>
			<ExtendedDataType>RefRecId</ExtendedDataType>
		</AxTableField>
	</Fields>
	<FullTextIndexes />
	<Indexes>
		<AxTableIndex>
			<Name>ResourceOrganizationalUnitIdx</Name>
			<AlternateKey>Yes</AlternateKey>
			<Fields>
				<AxTableIndexField>
					<DataField>HMOrganizationalUnit</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>HMResourceMaster</DataField>
				</AxTableIndexField>
				<AxTableIndexField>
					<DataField>HcmWorker</DataField>
				</AxTableIndexField>
			</Fields>
		</AxTableIndex>
	</Indexes>
	<Mappings />
	<Relations>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>HcmWorker</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>HcmWorker</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>HcmWorker</Name>
					<Field>HcmWorker</Field>
					<RelatedField>RecId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>RecId</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>HMOrganizationalUnit</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>HMOrganizationalUnit</RelatedTable>
			<RelatedTableCardinality>ExactlyOne</RelatedTableCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>HMOrganizationalUnit</Name>
					<Field>HMOrganizationalUnit</Field>
					<RelatedField>RecId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>RecId</Index>
		</AxTableRelation>
		<AxTableRelation xmlns=""
			i:type="AxTableRelationForeignKey">
			<Name>HMResourceMaster</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedTable>HMResourceMaster</RelatedTable>
			<RelatedTableCardinality>ZeroOne</RelatedTableCardinality>
			<RelationshipType>Composition</RelationshipType>
			<Constraints>
				<AxTableRelationConstraint xmlns=""
					i:type="AxTableRelationConstraintField">
					<Name>HMResourceMaster</Name>
					<Field>HMResourceMaster</Field>
					<RelatedField>RecId</RelatedField>
				</AxTableRelationConstraint>
			</Constraints>
			<Index>RecId</Index>
		</AxTableRelation>
	</Relations>
	<StateMachines />
</AxTable>