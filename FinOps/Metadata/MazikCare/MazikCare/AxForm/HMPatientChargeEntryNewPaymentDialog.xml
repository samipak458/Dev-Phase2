<?xml version="1.0" encoding="utf-8"?>
<AxForm xmlns:i="http://www.w3.org/2001/XMLSchema-instance" xmlns="Microsoft.Dynamics.AX.Metadata.V6">
	<Name>HMPatientChargeEntryNewPaymentDialog</Name>
	<SourceCode>
		<Methods xmlns="">
			<Method>
				<Name>classDeclaration</Name>
				<Source><![CDATA[
[Form]
public class HMPatientChargeEntryNewPaymentDialog extends FormRun
{
    #define.CalledFromSO('CalledFromSO')
    #define.Emergency('Emergency')

    boolean                         calledFromSO;
    AmountMST                       totalAMount;
    HMPatientPaymentResponsibility  resp;
    CustPaymMode                    defaultPaymMode;
    boolean                         isFirst,isCalledfromPharmacy;
    Map                             nonCashPaymRecords;
}
]]></Source>
			</Method>
			<Method>
				<Name>createAndPostMovementJournal</Name>
				<Source><![CDATA[
    public void createAndPostMovementJournal()
    {
        HMPharmacyItemDispense hmPharmacyItemDispense;
        HMParameters     hmParameters = HMParameters::find();
        HMBillParameters hmbill       = HMBillParameters::find();
    
        //Zain  -- Deprecated in AX7
        //AxInventJournalTable AxinventJournalTable = new AxinventJournalTable();
        //AxInventJournalTrans AxinventJournalTrans = new AxinventJournalTrans();
        InventJournalNameId inventJournalName;
        //AxInventDim axinventDim = new axinventDim();
        //Zain
        InventJournalTable              inventJournalTable;
        InventJournalTrans              inventJournalTrans;
        //InventJournalNameId             inventJournalName;
        InventDim                       inventDim;
        //Zain
        JournalCheckPost                journalCheckPost;
    
        //Below code creates journal header
    
        inventJournalName = InventJournalName::standardJournalName(InventJournalType::Movement);
        //AxinventJournalTable.parmJournalNameId(hmbill.InventJournalName_Movement);
        //AxinventJournalTable.parmLedgerDimension(InventJournalName::find(hmbill.InventJournalName_Movement).LedgerDimension);
        //AxinventJournalTable.save();
        //return header.parmJournalNameId();
        inventJournalTable.clear();
        inventJournalTable.initFromInventJournalName(InventJournalName::find(inventJournalName));
        inventJournalTable.LedgerDimension = InventJournalName::find(hmbill.InventJournalName_Movement).LedgerDimension;
        inventJournalTable.insert();
    
        //Below code creates journal lines
        ttsBegin;
        while select forUpdate hmPharmacyItemDispense
        {
            //AXinventJournalTrans.parmJournalId(AXinventJournalTable.parmJournalId());
            //AXinventJournalTrans.parmTransDate(DateTimeUtil::getSystemDate(DateTimeUtil::getUserPreferredTimeZone()));
            //AXinventJournalTrans.parmLedgerDimension(AxinventJournalTable.parmLedgerDimension());
            inventJournalTrans.JournalId = inventJournalTable.JournalId;
            inventJournalTrans.TransDate = DateTimeUtil::getSystemDate(DateTimeUtil::getUserPreferredTimeZone());
            inventJournalTrans.LedgerDimension = inventJournalTable.LedgerDimension;

            //AXinventJournalTrans.parmItemId(hmPharmacyItemDispense.ItemId);
            //AxinventJournalTrans.parmQty(hmPharmacyItemDispense.Qty);
            inventJournalTrans.ItemId = hmPharmacyItemDispense.ItemId;
            inventJournalTrans.Qty= hmPharmacyItemDispense.Qty;

            //axinventDim.parmInventBatchId(hmPharmacyItemDispense.InventBatchId);
            //axinventDim.parmInventSiteId(hmParameters.InventSiteId);
            //axinventDim.parmInventLocationId(hmParameters.InventLocationId);
            inventDim.inventBatchId = hmPharmacyItemDispense.InventBatchId;
            inventDim.InventSiteId = hmParameters.InventSiteId;
            inventDim.InventLocationId = hmParameters.InventLocationId;

            //AxinventJournalTrans.parmInventDimId(inventDim::findOrCreate(axinventDim.inventDim()).inventDimId);
            //AxinventJournalTrans.save();
            //axinventDim.save();
            inventJournalTrans.InventDimId = InventDim::findOrCreate(inventDim).inventDimId;
            inventJournalTrans.insert();
            //Zain
            hmPharmacyItemDispense.delete();
        }
        ttsCommit;
        //The below code posts the journal
        journalCheckPost = InventJournalCheckPost::newPostJournal(inventJournalTable);
        journalCheckPost.run();
    }

]]></Source>
			</Method>
			<Method>
				<Name>getPerformedServiceMap</Name>
				<Source><![CDATA[
    public Map getPerformedServiceMap()
    {
        FormRun formRun;
        formRun = element.args().caller();
        if(formHasMethod(formRun,identifierStr(getPerformedServiceMap)))
        {
            return element.args().caller().getPerformedServiceMap();
        }
        return null;
    }

]]></Source>
			</Method>
			<Method>
				<Name>init</Name>
				<Source><![CDATA[
    public void init()
    {
        FormRun formRun;
        HMPatient hmpatient;
        Map         map;
        MapEnumerator mapEnumerator;
        HMCaseTrans     hmcasetrans;
        nonCashPaymRecords = new map(Types::Int64,Types::Real);
        super();
        calledFromSO = false;
        isFirst = true;
        //TODO: fix it later
        //if(element.args().parm() == #CalledFromSO)
        //{
        calledFromSO = true;
        HMResourceSchedulingAppointmentDS_ds.queryBuildDataSource().enabled(false);
        AppointmentPaymInsuranceFields.visible(false);
        AccountDetails_SO.visible(true);
        hmpatient = HMPatient::find(HMCase::find(element.args().record().RecId).HMPatient);
        PatientNumberSO.text(hmpatient.getMRN());
        PatientNameSO.text(hmpatient.patientName());
        //}
        //else if(element.args().parm() == #Emergency)
        //{
        //    HMResourceSchedulingAppointmentDS_ds.queryBuildDataSource().enabled(false);
        //}
        formRun = element.args().caller();
        if(formRun)
        {
            if(formHasMethod(formRun,identifierStr(gettotalAmountToPay)))
            {
                totalAmount = element.args().caller().gettotalAmountToPay();
                PatientPaymentAmount.realValue(totalAMount);
            }
        }
        map = this.getPerformedServiceMap();
        if(map!= null)
        {
            mapEnumerator = map.getEnumerator();
            mapEnumerator.moveNext();
            hmcasetrans = mapEnumerator.currentValue();
            resp = hmcasetrans.PatientResponsibility;
        }
        defaultPaymMode = HMBillParameters::find().CustPaymModeTable;
    
        if (element.args().menuItemName() == menuitemDisplayStr(HMPatientChargeEntryNewPaymentPharmacy))
        {
            isCalledfromPharmacy = true;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>loadInsuranceDetails</Name>
				<Source><![CDATA[
    public void loadInsuranceDetails()
    {
        str bookingNotesLocal;
    
        HMPatientInsurance                      hmPatientInsurance = HMPatientInsurance::find(HMCase.HMPatientInsurance);
        HMInsuranceContractClassOrPlans         plan = HMInsuranceContractClassOrPlans::find(hmPatientInsurance.HMInsuranceContractClassOrPlans);
        HMInsuranceCarrier                      carrier;
        HMInsuranceContract                     contract;
        HMInsuranceContractCarrierCombination   combination;
        HMInsuranceContractClassDeductible      deductible;
        //BookingNotes.text('');
        InsuranceName.text('');
        InsuranceContract.text('');
        InsuranceClass.text('');
        InsuranceExpirationDate.dateValue(dateNull());
    
        if (plan)
        {
            contract    = HMInsuranceContract::find(plan.HMInsuranceContract);
            combination = HMInsuranceContractCarrierCombination::find(contract.HMInsuranceContractCarrierCombination);
            carrier     = HMInsuranceCarrier::find(combination.HMInsuranceCarrier);
            select HMMaxOutPatientDeductibleLimit,RecId,HMContractClassId from plan
            where plan.HMInsuranceContract == contract.RecId;
    
    
            select * from deductible
            where deductible.HMInsuranceContractClassOrPlans == plan.RecId
            && deductible.HMCaseType == HMCaseType::OutPatient;
    
            InsuranceName.text(carrier.name);
            InsuranceContract.text(contract.HMContractName);
            InsuranceClass.text(plan.HMContractClassId);
            InsuranceExpirationDate.dateValue(hmPatientInsurance.EndDate);
    
            //BookingNotes.text(bookingNotesLocal);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>run</Name>
				<Source><![CDATA[
    public void run()
    {
        super();
        element.loadInsuranceDetails();
        if(HMCase.HMCaseType == HMCaseType::Emergency|| HMCase.HMCaseType == HMCaseType::OutPatient||HMCase.HMCaseType == HMCaseType::InPatient)
        {
            AppointmentNumber.visible(false);
            CaseNumber.visible(true);
            AppointmentGroup.caption("@SYS131766");
            HMResourceSchedulingAppointmentDS_AppointmentTime.visible(false);
            HMResourceSchedulingAppointmentDS_AppointmentDate.visible(false);
            DoctorName.visible(false);
            Group2.caption("@MAZ8417");
        }
        else if (HMCase.HMCaseType == HMCaseType::OutPatient)
        {
            AppointmentNumber.visible(true);
            CaseNumber.visible(false);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>saveLedgerJournalTrans</Name>
				<Source><![CDATA[
    public void saveLedgerJournalTrans(container _jourTransCon, 
                                       //Zain
                                       PaymNote _paymNotes, 
                                       PaymReference _paymReference, 
                                       PaymMode _custPaymMode
                                       //Zain
                                      )
    {
        RecId paymentReceivedRecId;
        FormRun formRun;
        formRun = element.args().caller();
        paymentReceivedRecId = HMCasePaymtReceivedDetails::createCasePaymtReceived(HMCase.RecId,AmountPaid.realValue(),AmountReturned.realValue(), 
                                                                                   //Zain
                                                                                   _paymNotes,
                                                                                   _paymReference,
                                                                                   _custPaymMode,
                                                                                   conPeek(_jourTransCon, 1));
                                                                                   //Zain 
        if(formHasMethod(formRun,identifierStr(createCaseTransDetailForPayments)))
        {
            element.args().caller().createCaseTransDetailForPayments(_jourTransCon, false,paymentReceivedRecId);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>task</Name>
				<Source><![CDATA[
    public int task(int _taskId)
    {
        #task
        int ret;
        if(_taskId == #taskesc)
        {
            element.close();
            ret = true;
        }
        ret = super(_taskId);
    
        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>totalCashAmount</Name>
				<Source><![CDATA[
    public real totalCashAmount()
    {
        real amt = 0;
        HMPatientChargeEntryPayment hmPatientChargeEntryPaymentLocal;
    
        hmPatientChargeEntryPaymentLocal = HMPatientChargeEntryPayment_ds.getFirst();
    
        while(hmPatientChargeEntryPaymentLocal)
        {
            //if(CustPaymModeTable::find(hmPatientChargeEntryPaymentLocal.PaymMode).Cash == NoYes::Yes)
            //{
            amt += hmPatientChargeEntryPaymentLocal.Amount;
            //}
    
            hmPatientChargeEntryPaymentLocal = HMPatientChargeEntryPayment_ds.getNext();
        }
    
        return amt;
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateAmountReturned</Name>
				<Source><![CDATA[
    public void updateAmountReturned()
    {
        real result;
        if(AmountPaid.realValue() > 0)
        {
            result  = AmountPaid.realValue() - element.totalCashAmount();
            //if(result >= 0)
            {
                AmountReturned.realValue(result);
            }
        }
        else
        {
            AmountReturned.realValue(result);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updatePaymentAmount</Name>
				<Source><![CDATA[
    public void updatePaymentAmount()
    {
    
        if(CustPaymModeTable::find(HMPatientChargeEntryPayment.PaymMode).Cash == NoYes::No)
        {
            //AmountPaid.realValue(HMPatientChargeEntryPayment.Amount);
            //AmountReturned.realValue(0);
            PaymentButtonGroup.enabled(false);
        }
        else
        {
            //AmountPaid.realValue(0);
            PaymentButtonGroup.enabled(true);
        }
        element.updateAmountReturned();
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateItems</Name>
				<Source><![CDATA[
    public boolean validateItems()
    {
        Map         map;
        MapIterator mapIterator;
        HMCaseTrans     hmcasetrans;
        FormRun         formRun;
        HMPharmacyItemDispense  HMPharmacyItemDispense;
        real qty;
    
        boolean ret;
        formRun = element.args().caller();
        map = this.getPerformedServiceMap();
        if(formHasMethod(FormRun, identifierStr(getPharmacyItemDispenseTable)))
        {
            HMPharmacyItemDispense = element.args().caller().getPharmacyItemDispenseTable();
        }
        if(map!= null)
        {
            mapIterator = new MapIterator(map);
    
            while (mapIterator.more())
            {
    
                select qty,RecId from hmcasetrans where hmcasetrans.Recid == mapIterator.key();
                if (hmcasetrans)
                {
                    while select HMPharmacyItemDispense
                     where hmPharmacyItemDispense.HMCaseTrans == hmcasetrans.RecId
                    {
                        if (hmPharmacyItemDispense.Qty != hmcasetrans.Qty)
                        {
                            ret = false;
                            qty =  qty + hmPharmacyItemDispense.Qty;
                        }
                        else if  (hmcasetrans.Qty == qty)
                        {
                            ret = true;
                        }
                        else if  (hmcasetrans.Qty == hmPharmacyItemDispense.Qty)
                        {
                            ret = true;
                        }
    
                    }
                    if (ret)
                    {
                        select HMPharmacyItemDispense
                          where HMPharmacyItemDispense.ItemId == hmcasetrans.ItemId;
                        if (!HMPharmacyItemDispense)
                        {
                            ret = false;
                        }
                    }
                    if (!ret)
                    {
                        return ret;
                    }
                }
                mapIterator.next();
            }
    
    
        }
        return ret;
    }

]]></Source>
			</Method>
		</Methods>
		<DataSources xmlns="">
			<DataSource>
				<Name>HMPatientChargeEntryPayment</Name>
				<Methods>
					<Method>
						<Name>updatePayment</Name>
						<Source><![CDATA[
        private void updatePayment(boolean _deleteCalled = false)
        {
            MapEnumerator mapEnumerator;
            if(CustPaymModeTable::find(HMPatientChargeEntryPayment.PaymMode).Cash == NoYes::No || _deleteCalled)
            {
                AMountPaid.realValue(HMPatientChargeEntryPayment.Amount);
                AmountReturned.realValue(0);
            }
            else
            {
                AMountPaid.realValue(0);
                AmountReturned.realValue(0);
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>executeQuery</Name>
						<Source><![CDATA[
        public void executeQuery()
        {
            super();
            element.updatePaymentAmount();
        }

]]></Source>
					</Method>
					<Method>
						<Name>active</Name>
						<Source><![CDATA[
        public int active()
        {
            int ret;
        
            ret = super();
        
            element.updatePaymentAmount();
        
            return ret;
        }

]]></Source>
					</Method>
					<Method>
						<Name>delete</Name>
						<Source><![CDATA[
        public void delete()
        {
            //nonCashPaymRecords.remove(HMPatientChargeEntryPayment.RecId);
            super();
            //if(CustPaymModeTable::find(HMPatientChargeEntryPayment.PaymMode).Cash == NoYes::No)
            //{
            //this.updatePayment(true);
            //}
        }

]]></Source>
					</Method>
					<Method>
						<Name>initValue</Name>
						<Source><![CDATA[
        public void initValue()
        {
            super();
            HMPatientChargeEntryPayment.PaymentResp = resp;
            HMPatientChargeEntryPayment.PaymMode = defaultPaymMode;
            if(isFirst)
            {
                HMPatientChargeEntryPayment.Amount = totalAMount;
                isFirst = false;
                HMPatientChargeEntryPayment_ds.write();
            }
            if(!calledFromSO)
            {
                HMPatientChargeEntryPayment.MerchantDetails = HMSalesInvoiceCreateFormHandler::defaultMerchantIdByAppt(HMResourceSchedulingAppointmentDS.RecId);
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>write</Name>
						<Source><![CDATA[
        public void write()
        {
            HMResourceSchedulingAppointment appt;
            if(calledFromSO)
            {
                HMPatientChargeEntryPayment.HMPatient = element.args().record().RecId;
            }
            else
            {
                if(element.args().record().TableId == tableNum(HMCase))
                {
                    HMPatientChargeEntryPayment.HMCase = element.args().record().RecId;
                }
                else if(element.args().record().TableId == tableNum(HMResourceSchedulingAppointment))
                {
                    appt = element.args().record();
                    HMPatientChargeEntryPayment.HMResourceSchedulingAppointment = appt.RecId;
                    HMPatientChargeEntryPayment.HMCase = appt.HMCase;
                }
            }
        
            super();
            if(CustPaymModeTable::find(HMPatientChargeEntryPayment.PaymMode).Cash == NoYes::No)
            {
                this.updatePayment();
            }
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>HMResourceSchedulingAppointmentDS</Name>
				<Methods>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            super();
            if(!calledfromSO)
            {
                //TODO: fix it later
                //if(element.args().record().TableId == tableNum(HMResourceSchedulingAppointment))
                //{
                //    HMResourceSchedulingAppointmentDS_ds.queryBuildDataSource().addRange(fieldNum(HMResourceSchedulingAppointment,RecId)).value(SysQuery::value(element.args().record().RecId));
                //}
            }
        }

]]></Source>
					</Method>
					<Method>
						<Name>getInsuranceCarrierName</Name>
						<Source><![CDATA[
        public display Name getInsuranceCarrierName()
        {
            HMPatientInsurance                      patientInsurance;
            HMInsuranceContractClassOrPlans         plan;
            HMInsuranceContract                     contract;
            HMInsuranceContractCarrierCombination   combination;
            HMInsuranceCarrier                      carrier;
        
            patientInsurance    = HMPatientInsurance::find(HMResourceSchedulingAppointmentDS.HMPatientInsurance);
        
            plan                = HMInsuranceContractClassOrPlans::find(patientInsurance.HMInsuranceContractClassOrPlans);
            contract            = HMInsuranceContract::find(plan.HMInsuranceContract);
            combination         = HMInsuranceContractCarrierCombination::find(contract.HMInsuranceContractCarrierCombination);
            carrier             = HMInsuranceCarrier::find(combination.HMInsuranceCarrier);
        
            return carrier.Name;
        }

]]></Source>
					</Method>
					<Method>
						<Name>getHMPatientInsuranceExpiration</Name>
						<Source><![CDATA[
        public display date getHMPatientInsuranceExpiration()
        {
            HMPatientInsurance patientInsurance;
        
            patientInsurance = HMPatientInsurance::find(HMResourceSchedulingAppointmentDS.HMPatientInsurance);
        
            return patientInsurance.EndDate;
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
			<DataSource>
				<Name>HMCase</Name>
				<Methods>
					<Method>
						<Name>executeQuery</Name>
						<Source><![CDATA[
        public void executeQuery()
        {
            super();
            HMResourceSchedulingAppointmentDS_ds.executeQuery();
        }

]]></Source>
					</Method>
					<Method>
						<Name>init</Name>
						<Source><![CDATA[
        public void init()
        {
            HMResourceSchedulingAppointment appt;
            super();
            //if(element.args().record().TableId == tableNum(HMResourceSchedulingAppointment))
            //{
            //    appt = element.args().record();
            //    HMCase_ds.queryBuildDataSource().addRange(fieldNum(HMCase,RecId)).value(SysQuery::value(appt.HMCase));
            //}
            //else
            //{
            HMCase_ds.queryBuildDataSource().clearDynalinks();
            HMCase_ds.queryBuildDataSource().addRange(fieldNum(HMCase,RecId)).value(SysQuery::value(element.args().record().RecId));
                
            //}
        }

]]></Source>
					</Method>
				</Methods>
				<Fields />
			</DataSource>
		</DataSources>
		<DataControls xmlns="">
			<Control>
				<Name>HMPatientChargeEntryPayment_PaymMode</Name>
				<Type>String</Type>
				<Methods>
					<Method>
						<Name>lookup</Name>
						<Source><![CDATA[
        //NS: Bug 3781:Filter the Method of Payments on charge entry and all payment form and show only those which field "Clinic Use=Yes" by Ammar.Ali
        /// <summary>
        ///Looks up methods of payment with clinic use only
        /// </summary>
        public void lookup()
        {
            SysTableLookup  lookup;
            Query           query;

            query = new Query();
            query.addDataSource(tableNum(CustPaymModeTable)).addRange(fieldNum(CustPaymModeTable, ClinicUse)).value(SysQuery::value(NoYes::Yes));

            lookup = SysTableLookup::newParameters(tableNum(CustPaymModeTable), this);
            lookup.addLookupfield(fieldNum(CustPaymModeTable, PaymMode), true);
            lookup.parmQuery(query);
            lookup.performFormLookup();
        }
        //NE: Bug 3781:Filter the Method of Payments on charge entry and all payment form and show only those which field "Clinic Use=Yes" by Ammar.Ali

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>Button50</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            super();
            AmountPaid.realValue(AmountPaid.realValue() + 50);
            element.updateAmountReturned();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>Button100</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            super();
            AmountPaid.realValue(AmountPaid.realValue() + 100);
            element.updateAmountReturned();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>Button500</Name>
				<Type>Button</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            super();
            AmountPaid.realValue(AmountPaid.realValue() + 500);
            element.updateAmountReturned();
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>AmountPaid</Name>
				<Type>Real</Type>
				<Methods>
					<Method>
						<Name>modified</Name>
						<Source><![CDATA[
        public boolean modified()
        {
            boolean ret;
        
            ret = super();
            if(ret)
            {
                element.updateAmountReturned();
            }
        
            return ret;
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
			<Control>
				<Name>HMPatientAdvancePaymentPosting</Name>
				<Type>MenuFunctionButton</Type>
				<Methods>
					<Method>
						<Name>clicked</Name>
						<Source><![CDATA[
        void clicked()
        {
            real amountPaidLocal;
            Map performedServiceMap;
            MapEnumerator mapEnumerator;
            hmcasetrans hmCaseTrans;
            HMPatientChargeEntryPayment hmPatientChargeEntryPaymentLocal;
            int recordCount;
            try
            {
                if(HMPatientChargeEntryPayment.PaymMode != '')
                {
                    HMPatientChargeEntryPayment_ds.write();
                }
                if(!HMPatientEODStatementClass::userHasOpenStatement(curUserId()))
                {
                    warning("@MAZ13463");
                    return;
                }
                select sum(Amount) from HMPatientChargeEntryPayment;
                if(totalAmount != HMPatientChargeEntryPayment.Amount)
                {
                    warning("@MAZ13462");
                    HMPatientChargeEntryPayment_ds.executeQuery();
                    return;
        
                }
        
                while select RecId from HMPatientChargeEntryPayment
                {
                    recordCount ++;
                }
        
                if(recordCount > 1)
                {
                    performedServiceMap = element.getPerformedServiceMap();
                    mapEnumerator = performedServiceMap.getEnumerator();
                    while(mapEnumerator.moveNext())
                    {
                        hmCaseTrans = hmCaseTrans::find(mapEnumerator.currentKey());
                        if(hmCaseTrans.CashAmount != 0)
                        {
                            warning("Please create payments for cash amount seperately");
                            return;
                        }
                    }
                }
        
                HMPatientChargeEntryPayment_ds.executeQuery();
                amountPaidLocal = AmountPaid.realValue() ;
                if(amountPaidLocal < element.totalCashAmount())
                {
                    warning("@MAZ13573");
                    return;
                }
                this.enabled(false);
                super();
                element.args().caller().refreshDS();
                element.close();
            }
            catch
            {
                this.enabled(true);
            }
        
        }

]]></Source>
					</Method>
				</Methods>
			</Control>
		</DataControls>
		<Members xmlns="" />
	</SourceCode>
	<DataSources>
		<AxFormDataSource xmlns="">
			<Name>HMPatientChargeEntryPayment</Name>
			<Table>HMPatientChargeEntryPayment</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>Amount</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BatchNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CustAccount</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCase</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCasePaymtReceivedDetails</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatient</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPaymentType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMResourceSchedulingAppointment</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMTpaCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LedgerJournalTrans</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>MerchantDetails</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PaymentNotes</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PaymentResp</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PaymentType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PaymMode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PaymReference</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SalesId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TransDate</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<InsertAtEnd>No</InsertAtEnd>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>HMResourceSchedulingAppointmentDS</Name>
			<Table>HMResourceSchedulingAppointment</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>ActualArrivalTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AdmissionOrderSource</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentConfirmationStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentEndDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentEndDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentEndTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentReason</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AppointmentTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ArrivalTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Bed</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BillStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BOMVersion</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BookingNotes</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ChartPrepared</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ChiefComplaint</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Client</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ClientBillingLogisticsPostalAddress</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ClientReportLogisticsPostalAddres</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CopyOfEmailSent</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreditCardToken</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreditCardTokenRequired</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CriticalMedicalInformation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DefaultDimension</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DispositionComments</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DispositionFollowUp</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DocuRef</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Duration</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmailSent</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmailStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmployeeNum</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EODProcessed</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FinanceBillingStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FinanceBillingStatus_Client</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ForceBookingStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FreeFollowUpAvailed</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>GOPNum</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMAnesthesiaType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMAppointmentType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMBookingOrigin</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCancellationStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCase</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMClinicStaff</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMConfirmationStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMInsuranceContractClassOrPlans</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMOrganizationalUnitAdmissionWard</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMOrganizationalUnitServiceLocation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatient</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatientInsurance</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatientVisit</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMRecurrentApptDetail</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMResourceMaster_PerformingDoctor</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMResourceSchedulingPlanningObject</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMResourceSchedulingTypeCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMScheduleType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMTreatmentClassification</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMWaitingList</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ImportedNotes</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InclinicNotes</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IncompleteInfoLog</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IncompleteReserveAppointmentTaskGeneratd</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsDelayed</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsHotspot</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsOnlineAppointment</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsOverBooked</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsReconfirmEmailSent</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsSpecificConsultant</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LedgerJournalTable_AdvancePayment</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Notes</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PatientContact</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PatientName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PatientRequestor</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PhysicalChartRequired</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PONum</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreAuthorizationNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreAuthorizationStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreAuthValidDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryAppointment</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PriorityNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Referral</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ReportSentContactPerson</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RequestDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RequestorContactPerson</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RescheduleWithoutConfirmation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ResultExpectedDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ResultVisitStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SalesTable</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SendEmailTo</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SmsSent</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SysOutgoingEmailTable</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>WalkinPatient</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>HMCase</Name>
			<Table>HMCase</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AddmisionDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AdmittingDiagnosisCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BillType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CaseNo</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CaseStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Clinic</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CRMCaseRefID</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CSVFileGenerated</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DiagnosisandProcedureCodeQualifier</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DimensionDefault</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DischargeDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DischargeStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DocumentControlNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Ecia</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Ecib</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Ecic</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ECode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMBuildingUnit_Room</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCase</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCaseReason</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCaseType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMFinancialClass</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMParentCase</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatient</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatientInsurance</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatientStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPPSCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMReason</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMResourceMaster</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMRoomType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Notes</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OperatingPhysician</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OtherPhysician</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OtherPhysician1</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PatientReasonA</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PatientReasonB</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PatientReasonC</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PointOfOrigin</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreAdmittingDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreAuthorizationNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreAuthorizationStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreAuthValidDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrincipalDiagnosisCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrincipalProcedureCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrincipalProcedureDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Remarks</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>serviceDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>StateId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TypeOfAdmission</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
		<AxFormDataSource xmlns="">
			<Name>HMPatientDS</Name>
			<Table>HMPatient</Table>
			<Fields>
				<AxFormDataSourceField>
					<DataField>AgeInDays</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>AgeInMonths</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BirthDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BirthTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BloodGroup</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>BoxId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CallNotes</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CanContact</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CivicAddress</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Client</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ContactFirst</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ContactPerson</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ContactPhoneMobile</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreatedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CreditCardToken</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CriticalMedicalInformation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>CustTable</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DataAreaId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DirPartyRelationshipNextToKin</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DirPartyTable</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DocuRef</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>DrivingLicenseNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmployeeNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Employer</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Employment</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmploymentEmail</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmploymentFax</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmploymentLogisticsLocation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EmploymentPhone</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>EncounterActive</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Executive</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ExecutiveProtocol</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ExtraCoveredByClient</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FamilyPhysician</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Field1</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FileLocation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>FormProvision</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Gender</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HasCareBookRegistration</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HcmEthnicOrigin</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HcmLanguageCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Height</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HIPAA</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HipaaDateAcknowledge</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMAgeValue</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMBookingOrigin</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMCalcBirthDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMClinicStaff</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMClinicStaffFamilyDoctor</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMHijriDateOfBirth</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMHijriExpiryDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMIdentificationNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMLaboratories</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMNationalIdExpiryDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMNationalIdType</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatientAllergyInvestigationStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPatientRestriction</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMPharmacy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMProfession</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMRaceCode</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>HMReferringPhysician</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>InClinicFileLocation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsAuthorized</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsOnHold</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsOutstanding</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>IsVIP</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>JobTitle</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>LogisticsAddressCountryRegion</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ModifiedDateTime</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>NameSuffix</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>OtherName</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Partition</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PassportExpireDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PassportNum</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PatientHighlights</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PhysicalChartNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PictureRefused</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Pilot</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreEmployment</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PreEmploymentProtocol</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrefModeOfCommunication</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>PrimaryPhysician</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProfessionalStatus</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProvincialHealthCardExpDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ProvincialHealthCardNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RAMQ</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ReasonTableMerge</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ReasonTablePatientDeactivate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecallDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RecId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>ReferringPhysician</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RefusedToProvidePicture</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RefuseToSign</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RefuseToSignAcknowledge</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RegisteredBy</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RegistrationDate</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Relationship</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>RISRegistered</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Salutation</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SelfEmployed</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>smmBusRelTable</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>SocialSecurityNumber</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Status</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TableId</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>TextOnInvoice</DataField>
				</AxFormDataSourceField>
				<AxFormDataSourceField>
					<DataField>Weight</DataField>
				</AxFormDataSourceField>
			</Fields>
			<ReferencedDataSources />
			<JoinSource>HMCase</JoinSource>
			<LinkType>InnerJoin</LinkType>
			<AllowCreate>No</AllowCreate>
			<AllowDelete>No</AllowDelete>
			<AllowEdit>No</AllowEdit>
			<DataSourceLinks />
			<DerivedDataSources />
		</AxFormDataSource>
	</DataSources>
	<Design>
		<BackgroundColor xmlns="">WindowBackground</BackgroundColor>
		<Caption xmlns="">@MAZ11986</Caption>
		<DialogSize xmlns="">Medium</DialogSize>
		<Frame xmlns="">Dialog</Frame>
		<HideToolbar xmlns="">Yes</HideToolbar>
		<Style xmlns="">Dialog</Style>
		<WindowType xmlns="">Popup</WindowType>
		<Controls xmlns="">
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>DialogContent</Name>
				<ElementPosition>715827882</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<WidthMode>Auto</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls />
				<Style>DialogContent</Style>
			</AxFormControl>
			<AxFormControl xmlns=""
				i:type="AxFormGroupControl">
				<Name>DialogCommit</Name>
				<ElementPosition>1431655764</ElementPosition>
				<FilterExpression>%1</FilterExpression>
				<HeightMode>Auto</HeightMode>
				<Type>Group</Type>
				<VerticalSpacing>-1</VerticalSpacing>
				<WidthMode>Auto</WidthMode>
				<FormControlExtension
					i:nil="true" />
				<Controls>
					<AxFormControl xmlns=""
						i:type="AxFormGroupControl">
						<Name>AccountDetails_SO</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>387740100</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Type>Group</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>PatientNumberSO</Name>
								<AllowEdit>No</AllowEdit>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<HelpText>@MAZ11373</HelpText>
								<Type>String</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Label>@MAZ11856</Label>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormStringControl">
								<Name>PatientNameSO</Name>
								<AllowEdit>No</AllowEdit>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1610612733</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>String</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Label>@MAZ9</Label>
							</AxFormControl>
						</Controls>
						<Columns>2</Columns>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormGroupControl">
						<Name>AppointmentPaymInsuranceFields</Name>
						<AutoDeclaration>Yes</AutoDeclaration>
						<ElementPosition>646233502</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Type>Group</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>AppointmentGroup</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>715827882</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>AppointmentNumber</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>613566756</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>AppointmentNumber[1]</DataField>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ8923</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>CaseNumber</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>920350134</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<WidthMode>SizeToAvailable</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>CaseNo[1]</DataField>
										<DataSource>HMCase</DataSource>
										<Label>@MAZ:HMCaseNumber</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>PatientNumber</Name>
										<ElementPosition>1227133512</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ11373</HelpText>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>patientChartNum</DataMethod>
										<DataSource>HMPatientDS</DataSource>
										<Label>@MAZ11856</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>Patient</Name>
										<ElementPosition>1533916890</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>patientName</DataMethod>
										<DataSource>HMPatientDS</DataSource>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>DoctorName</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1840700268</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>getAppointmentResource</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ65</Label>
									</AxFormControl>
								</Controls>
								<Caption>@MAZ3465</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>Group2</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741823</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormTimeControl">
										<Name>HMResourceSchedulingAppointmentDS_AppointmentTime</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>402653182</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Time</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>AppointmentTime[1]</DataField>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ:HMAppointmentTime</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>HMResourceSchedulingAppointmentDS_AppointmentDate</Name>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>603979773</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Date</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataField>AppointmentDate[1]</DataField>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ:HMAppointmentDate</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>PatientPaymentAmount</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>805306366</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Label>Self payment amount</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>ExpectedCharges</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ11998</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<Width>100</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>getAppointmentChargesForPatient</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ11997</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>AppointmentOutstandingToPay</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1342177278</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ11993</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<Width>100</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>totalAppointmentInvoiceAmount</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ11994</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>AppointmentPayments</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1610612734</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ11991</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<Width>100</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>totalAppointmentAdvancePayments</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ4692</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>AppointmentAvailableAmount</Name>
										<AllowEdit>No</AllowEdit>
										<ElementPosition>1879048190</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ11996</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<Width>100</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>totalAvailableAmount</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ11995</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
								</Controls>
								<Caption>Patient appointment payment</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>PaymentDetails</Name>
								<ElementPosition>1431655764</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>TotalInvoiceAmount</Name>
										<ElementPosition>858993458</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ12001</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<Width>100</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>patientTotalInvoiceAmount</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ12002</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>TotalAdvancePaid</Name>
										<ElementPosition>1288490187</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ12000</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<Width>100</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>patientTotalAdvancePayments</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ2727</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormRealControl">
										<Name>TotalAvailableAmount</Name>
										<ElementPosition>1717986916</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<HelpText>@MAZ12005</HelpText>
										<Type>Real</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<Visible>No</Visible>
										<Width>100</Width>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<DataMethod>patientTotalAvlblAmount</DataMethod>
										<DataSource>HMResourceSchedulingAppointmentDS</DataSource>
										<Label>@MAZ12004</Label>
										<NoOfDecimals>-1</NoOfDecimals>
									</AxFormControl>
								</Controls>
								<Caption>Payment details</Caption>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>InsuranceGroup</Name>
								<ElementPosition>1789569705</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>InsuranceName</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>715827880</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>SizeToAvailable</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Label>@MAZ13045</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>InsuranceContract</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1073741820</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>SizeToAvailable</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Label>@MAZ13053</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>InsuranceNetwork</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1207959547</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>SizeToAvailable</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Label>@SYS30485</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormStringControl">
										<Name>InsuranceClass</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1342177275</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>String</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>SizeToAvailable</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Label>@MAZ13052</Label>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormDateControl">
										<Name>InsuranceExpirationDate</Name>
										<AllowEdit>No</AllowEdit>
										<AutoDeclaration>Yes</AutoDeclaration>
										<ElementPosition>1503238549</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Date</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Label>@MAZ13050</Label>
									</AxFormControl>
								</Controls>
								<Caption>@MAZ13170</Caption>
							</AxFormControl>
						</Controls>
						<Columns>3</Columns>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormGroupControl">
						<Name>PaymDetailsGroup</Name>
						<ElementPosition>904726904</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<Type>Group</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>GridGroup</Name>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormActionPaneControl">
										<Name>ActionPane</Name>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>ActionPane</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormActionPaneTabControl">
												<Name>ActionPaneTab</Name>
												<ElementPosition>1431655764</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ActionPaneTab</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls>
													<AxFormControl xmlns=""
														i:type="AxFormButtonGroupControl">
														<Name>ButtonGroup1</Name>
														<ElementPosition>1431655764</ElementPosition>
														<FilterExpression>%1</FilterExpression>
														<HeightMode>Auto</HeightMode>
														<Type>ButtonGroup</Type>
														<VerticalSpacing>-1</VerticalSpacing>
														<WidthMode>Auto</WidthMode>
														<FormControlExtension
															i:nil="true" />
														<Controls>
															<AxFormControl xmlns=""
																i:type="AxFormCommandButtonControl">
																<Name>NewButton</Name>
																<ElementPosition>1073741822</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>CommandButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<Command>New</Command>
																<NormalImage>New</NormalImage>
																<Primary>Yes</Primary>
															</AxFormControl>
															<AxFormControl xmlns=""
																i:type="AxFormCommandButtonControl">
																<Name>DeleteButton</Name>
																<ElementPosition>1610612733</ElementPosition>
																<FilterExpression>%1</FilterExpression>
																<HeightMode>Auto</HeightMode>
																<Type>CommandButton</Type>
																<VerticalSpacing>-1</VerticalSpacing>
																<WidthMode>Auto</WidthMode>
																<FormControlExtension
																	i:nil="true" />
																<ButtonDisplay>TextWithImageLeft</ButtonDisplay>
																<Command>DeleteRecord</Command>
																<NormalImage>Delete</NormalImage>
																<Primary>Yes</Primary>
																<SaveRecord>No</SaveRecord>
																<Text>@SYS14425</Text>
															</AxFormControl>
														</Controls>
														<ArrangeMethod>Vertical</ArrangeMethod>
														<DataSource>HMPatientChargeEntryPayment</DataSource>
													</AxFormControl>
												</Controls>
												<AlignChild>No</AlignChild>
												<AlignChildren>No</AlignChildren>
												<ArrangeMethod>Vertical</ArrangeMethod>
											</AxFormControl>
										</Controls>
										<AlignChild>No</AlignChild>
										<AlignChildren>No</AlignChildren>
										<ArrangeMethod>Vertical</ArrangeMethod>
										<Style>Strip</Style>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGridControl">
										<Name>Grid</Name>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Grid</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>HMPatientChargeEntryPayment_PaymMode</Name>
												<ElementPosition>858993458</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>PaymMode</DataField>
												<DataSource>HMPatientChargeEntryPayment</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormReferenceGroupControl">
												<Name>HMPatientChargeEntryPayment_MerchantDetails</Name>
												<ElementPosition>1073741822</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ReferenceGroup</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Controls />
												<DataSource>HMPatientChargeEntryPayment</DataSource>
												<ReferenceField>MerchantDetails[1]</ReferenceField>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>HMPatientChargeEntryPayment_Amount</Name>
												<ElementPosition>1395864369</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<AllowNegative>No</AllowNegative>
												<DataField>Amount[1]</DataField>
												<DataSource>HMPatientChargeEntryPayment</DataSource>
												<Mandatory>Yes</Mandatory>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>HMPatientChargeEntryPayment_PaymReference</Name>
												<ElementPosition>1717986916</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>PaymReference[1]</DataField>
												<DataSource>HMPatientChargeEntryPayment</DataSource>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormStringControl">
												<Name>HMPatientChargeEntryPayment_PaymentNotes</Name>
												<ElementPosition>1932735281</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>String</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>PaymentNotes[1]</DataField>
												<DataSource>HMPatientChargeEntryPayment</DataSource>
												<DisplayHeight>1</DisplayHeight>
												<DisplayHeightMode>Fixed</DisplayHeightMode>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormComboBoxControl">
												<Name>HMPatientChargeEntryPayment_HMPaymentType</Name>
												<ElementPosition>2040109463</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Type>ComboBox</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<Visible>No</Visible>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<DataField>HMPaymentType</DataField>
												<DataSource>HMPatientChargeEntryPayment</DataSource>
												<Items />
											</AxFormControl>
										</Controls>
										<DataSource>HMPatientChargeEntryPayment</DataSource>
										<VisibleRows>5</VisibleRows>
										<VisibleRowsMode>Fixed</VisibleRowsMode>
									</AxFormControl>
								</Controls>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormGroupControl">
								<Name>PaymentButtonGroup</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1610612734</ElementPosition>
								<Enabled>No</Enabled>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Type>Group</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Controls>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>AmountButtonGroup</Name>
										<ElementPosition>1073741822</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormButtonControl">
												<Name>Button50</Name>
												<ElementPosition>409044504</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Skip>Yes</Skip>
												<Type>Button</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Text>50</Text>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormButtonControl">
												<Name>Button100</Name>
												<ElementPosition>613566756</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Skip>Yes</Skip>
												<Type>Button</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Text>100</Text>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormButtonControl">
												<Name>Button500</Name>
												<ElementPosition>920350134</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<Skip>Yes</Skip>
												<Type>Button</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Text>500</Text>
											</AxFormControl>
										</Controls>
									</AxFormControl>
									<AxFormControl xmlns=""
										i:type="AxFormGroupControl">
										<Name>Fields</Name>
										<ElementPosition>1610612733</ElementPosition>
										<FilterExpression>%1</FilterExpression>
										<HeightMode>Auto</HeightMode>
										<Type>Group</Type>
										<VerticalSpacing>-1</VerticalSpacing>
										<WidthMode>Auto</WidthMode>
										<FormControlExtension
											i:nil="true" />
										<Controls>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>AmountPaid</Name>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1073741822</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<HelpText>@MAZ9492</HelpText>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Label>@MAZ9492</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
											<AxFormControl xmlns=""
												i:type="AxFormRealControl">
												<Name>AmountReturned</Name>
												<AllowEdit>No</AllowEdit>
												<AutoDeclaration>Yes</AutoDeclaration>
												<ElementPosition>1610612733</ElementPosition>
												<FilterExpression>%1</FilterExpression>
												<HeightMode>Auto</HeightMode>
												<HelpText>@MAZ13547</HelpText>
												<Type>Real</Type>
												<VerticalSpacing>-1</VerticalSpacing>
												<WidthMode>Auto</WidthMode>
												<FormControlExtension
													i:nil="true" />
												<Label>@MAZ13549</Label>
												<NoOfDecimals>-1</NoOfDecimals>
											</AxFormControl>
										</Controls>
									</AxFormControl>
								</Controls>
								<Columns>2</Columns>
							</AxFormControl>
						</Controls>
						<Columns>2</Columns>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormButtonGroupControl">
						<Name>ButtonGroup</Name>
						<ElementPosition>1163220307</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>Auto</HeightMode>
						<LeftMode>AutoRight</LeftMode>
						<Type>ButtonGroup</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<WidthMode>Auto</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls>
							<AxFormControl xmlns=""
								i:type="AxFormMenuFunctionButtonControl">
								<Name>HMPatientAdvancePaymentPosting</Name>
								<AutoDeclaration>Yes</AutoDeclaration>
								<ElementPosition>1073741822</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Skip>Yes</Skip>
								<Type>MenuFunctionButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<AutoRefreshData>Yes</AutoRefreshData>
								<DataSource>HMPatientChargeEntryPayment</DataSource>
								<MenuItemName>HMPatientAdvancePaymentPosting</MenuItemName>
								<MenuItemType>Action</MenuItemType>
							</AxFormControl>
							<AxFormControl xmlns=""
								i:type="AxFormCommandButtonControl">
								<Name>CancelButton</Name>
								<ElementPosition>1610612733</ElementPosition>
								<FilterExpression>%1</FilterExpression>
								<HeightMode>Auto</HeightMode>
								<Skip>Yes</Skip>
								<Type>CommandButton</Type>
								<VerticalSpacing>-1</VerticalSpacing>
								<WidthMode>Auto</WidthMode>
								<FormControlExtension
									i:nil="true" />
								<Command>Cancel</Command>
							</AxFormControl>
						</Controls>
						<ArrangeMethod>Vertical</ArrangeMethod>
						<Style>DialogCommitContainer</Style>
					</AxFormControl>
					<AxFormControl xmlns=""
						i:type="AxFormGroupControl">
						<Name>Footnote</Name>
						<ElementPosition>1610612734</ElementPosition>
						<FilterExpression>%1</FilterExpression>
						<HeightMode>SizeToAvailable</HeightMode>
						<Type>Group</Type>
						<VerticalSpacing>-1</VerticalSpacing>
						<Visible>No</Visible>
						<WidthMode>SizeToAvailable</WidthMode>
						<FormControlExtension
							i:nil="true" />
						<Controls />
						<TopMargin>10</TopMargin>
						<TopMarginMode>Fixed</TopMarginMode>
					</AxFormControl>
				</Controls>
				<AlignChild>No</AlignChild>
				<Style>DialogCommit</Style>
			</AxFormControl>
		</Controls>
	</Design>
	<Parts />
</AxForm>