<?xml version="1.0" encoding="utf-8"?>
<AxClass xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>HMPatientInsuranceAction</Name>
	<SourceCode>
		<Declaration><![CDATA[
class HMPatientInsuranceAction
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>main</Name>
				<Source><![CDATA[
    /// <summary>
    ///    Called by the menu items.
    /// </summary>
    /// <param name="_args">
    ///    The <c>Args</c> object passed from the menu item.
    /// </param>
    public static void main(Args _args)
    {
        HMPatientInsurance hmPatientInsurance;
    
        // Verify context
        if (_args.record() == null || _args.record().TableId != tablenum(HMPatientInsurance))
        {
            // Class %1 must be called with buffer %2.
            throw error(strfmt("@SYS113735", classstr(HMPatientInsuranceAction), tablestr(HMPatientInsurance)));
        }
    
        hmPatientInsurance = _args.record();
    
        if (_args.parmEnumType() == enumnum(HMActionParameter))
        {
            switch (_args.parmEnum())
            {
                case HMActionParameter::Delete :
                    // Delete
                    hmPatientInsurance.delete();
                    break;
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateInsuranceCorporate_IN</Name>
				<Source><![CDATA[
    public static boolean validateInsuranceCorporate_IN(RecId _patientRecId, recid _insuranceRecId = 0)
    {
        HMPatientInsurance insurance;
    
        select count(RecId) from insurance where insurance.HMPatient == _patientRecId
        && insurance.RecId != _insuranceRecId;
    
        if(insurance.RecId == 0)
        {
            return true;
        }
        else
        {
            return false;
        }
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
</AxClass>