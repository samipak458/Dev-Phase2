<?xml version="1.0" encoding="utf-8"?>
<AxClass xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>Roles</Name>
	<SourceCode>
		<Declaration><![CDATA[
class Roles
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>hideAXMenus</Name>
				<Source><![CDATA[
    static void hideAXMenus()
    {
        #AOT
        #define.Zero('0')
        #define.MainMenuLocation('\\Menus\\MainMenu')
    
        container   cont_navButtons;
    
        TreeNode            menunode;
        TreeNode            mainmenunode;
        TreeNodeIterator    menuitemiter;
        xNavPane            navpane = new xNavPane();
    
        str aotName;
    
        int i = 1;
        int j = 1;
    
        if(Roles::isMazikCareadmin())
        {
            mainmenunode = TreeNode::findNode(#MainMenuLocation);
            menuitemiter = mainmenunode.AOTiterator();
            menunode     = menuitemiter.next();
    
            while(menunode != null)
            {
                aotName = menunode.AOTname();
    
                if(aotName == 'Medisys')
                {
                    // Prefix 1 to show module
                    cont_navButtons = conIns(cont_navButtons, j, '1' + aotName);
                }
    
                else
                {
                    // Prefix 0 to hide module
                    cont_navButtons = conIns(cont_navButtons, j, '0' + aotName);
                }
                j++;
    
                menunode = menuitemiter.next();
            }
            // Hide Modules with 0 as prefix
            infolog.navPane().setCurrMenuButtons(cont_navButtons);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>isMazikCareadmin</Name>
				<Source><![CDATA[
    public static boolean isMazikCareadmin()
    {
        SecurityUserRole securityUserRole;
        SecurityRole       Roles;
        select RecId from securityUserRole
        where securityUserRole.User == curUserId()
        join Roles where Roles.RecId  == securityUserRole.SecurityRole
        && Roles.AotName == 'HMMedisys';
    
        return securityUserRole.RecId != 0;
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
</AxClass>